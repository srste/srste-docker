!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).SmoothDnD={})}(this,function(e){"use strict";var l,n,i="smooth-dnd-container-instance",y="smooth-dnd-draggable-wrapper",r="animated",p="__smooth_dnd_draggable_translation_value",u="__smooth_dnd_draggable_visibility_value",C="smooth-dnd-ghost",b="smooth-dnd-container",f="smooth-dnd-extra-size-for-insertion",v="smooth-dnd-stretcher-element",h="smooth-dnd-stretcher-instance",c="smooth-dnd-disable-touch-action",g="smooth-dnd-no-user-select",s="smooth-dnd-prevent-auto-scroll-class",w="smooth-dnd-drop-preview-default-class",E="smooth-dnd-drop-preview-inner-class",x="smooth-dnd-drop-preview-constant-class",O="smooth-dnd-drop-preview-flex-container-class",t=Object.freeze({containerInstance:i,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:y,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:r,translationValue:p,visibilityValue:u,ghostClass:C,containerClass:b,extraSizeForInsertion:f,stretcherElementClass:v,stretcherElementInstance:h,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:c,noUserSelectClass:g,preventAutoScrollClass:s,dropPlaceholderDefaultClass:w,dropPlaceholderInnerClass:E,dropPlaceholderWrapperClass:x,dropPlaceholderFlexContainerClass:O}),S={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n=l=l||{}).x="x",n.y="y",n.xy="xy";function a(e,n,t){return"x"===t?{left:Math.max(e.left,n.left),top:e.top,right:Math.min(e.right,n.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,n.top),right:e.right,bottom:Math.min(e.bottom,n.bottom)}}function D(e){var n=window.getComputedStyle(e),t=n.overflow;if("auto"===t||"scroll"===t)return l.xy;var o=n["overflow-x"],i="auto"===o||"scroll"===o,r=n["overflow-y"],a="auto"===r||"scroll"===r;return i&&a?l.xy:i?l.x:a?l.y:null}function R(e,n){var t=window.getComputedStyle(e),o=t.overflow,i=t["overflow-".concat(n)];return"auto"===o||"scroll"===o||("auto"===i||"scroll"===i)}function A(t,n){var o=[];function i(){for(var e=t;e;){if(e.className&&-1<e.className.indexOf("react-trello-board")){var n=e.className.match(".*uid_(.*)_uid.*");return n&&2==n.length?n[1]:""}e=e.parentElement}return""}function e(){if(o)if(o.forEach(function(e){return e.removeEventListener("scroll",n)}),window.sd){var e=i();e&&window.sd[e]?window.sd[e].doc.removeEventListener("scroll",n):window.removeEventListener("scroll",n)}else window.removeEventListener("scroll",n)}return function(){var e=t;for(;e;)(R(e,"x")||R(e,"y"))&&o.push(e),e=e.parentElement}(),{dispose:function(){e(),o=null},start:function(){if(o)if(o.forEach(function(e){return e.addEventListener("scroll",n)}),window.sd){var e=i();e&&window.sd[e]?window.sd[e].doc.addEventListener("scroll",n):window.addEventListener("scroll",n)}else window.addEventListener("scroll",n)},stop:e}}var I=function(e,n){return{left:Math.max(e.left,n.left),top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom)}},N=function(e){var n=e.getBoundingClientRect(),t={left:n.left,right:n.right,top:n.top,bottom:n.bottom};if(P(e,"x")&&!B(e,"x")){var o=t.right-t.left;t.right=t.right+e.scrollWidth-o}if(P(e,"y")&&!B(e,"y")){var i=t.bottom-t.top;t.bottom=t.bottom+e.scrollHeight-i}return t},B=function(e,n){var t=window.getComputedStyle(e),o=t.overflow,i=t["overflow-".concat(n)];return"auto"===o||"scroll"===o||"hidden"===o||("auto"===i||"scroll"===i||"hidden"===i)},P=function(e,n){return"x"===n?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},T=function(e,n){var t=e,o=n||N(e);for(t=e.parentElement;t;)P(t,"x")&&B(t,"x")&&(o=a(o,t.getBoundingClientRect(),"x")),P(t,"y")&&B(t,"y")&&(o=a(o,t.getBoundingClientRect(),"y")),t=t.parentElement;return o},j=function(e,t){for(var o=e;o;){if(o[i]){var n=function(){var n=o[i];if(t.some(function(e){return e===n}))return{v:n}}();if("object"===d(n))return n.v}o=o.parentElement}return null},L=function(e,n){for(var t=e;t;){if(t.matches(n))return t;t=t.parentElement}return null},z=function(e){for(var n=e,t=null;n;)if(n.className&&-1<n.className.indexOf("react-trello-board")){var o=n.className.match(".*uid_(.*)_uid.*");t=o&&2==o.length?o[1]:"",n=null}else n=n.parentElement;return t},k=function(e,n){return-1<e.className.split(" ").map(function(e){return e}).indexOf(n)},_=function(e,n){if(e){var t=e.className.split(" ").filter(function(e){return e});-1===t.indexOf(n)&&(t.unshift(n),e.className=t.join(" "))}},M=function(e,n){if(e){var t=e.className.split(" ").filter(function(e){return e&&e!==n});e.className=t.join(" ")}},F=function(e,n){return e.removeChild(e.children[n])},V=function(e,n,t){t>=e.children.length?e.appendChild(n):e.insertBefore(n,e.children[t])},X=function(e){window.sd?0<Object.keys(window.sd).length&&(e.getSelection?e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges():e.document.selection&&e.document.selection.empty()):window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},H=function(e){if(e){var n=window.getComputedStyle(e);if(n)return n.cursor}return null};function Y(e){return!(e.bottom<=e.top||e.right<=e.left)}function G(e){var l=e.element,s=e.draggables;return function(e,n){var t=e.removedIndex,o=e.addedIndex,i=e.droppedElement,r=null;if(null!==t&&(r=F(l,t),s.splice(t,1)),null!==o){var a=window.document.createElement("div");a.className="".concat(y),a.appendChild(r&&r.firstElementChild?r.firstElementChild:i),V(l,a,o),o>=s.length?s.push(a):s.splice(o,0,a)}n&&n(e)}}var W=Object.freeze({domDropHandler:G,reactDropHandler:function(){return{handler:function(){return function(e,n){n&&n(e)}}}}}),q={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},U={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function J(o){return{get:function(e,n){return e[o[n]||n]},set:function(e,n,t){e[o[n]]=o.setters[n]?o.setters[n](t):t}}}function K(o,s){o[f]=0;var i=J("horizontal"===s?q:U),d={translation:0};if(window.sd){var e=r();e&&window.sd[e]?window.sd[e].doc.addEventListener("resize",function(){a(o)}):window.addEventListener("resize",function(){a(o)})}else{var n=r();n&&window.sd[n]?window.sd[n].doc.addEventListener("resize",function(){a(o)}):window.addEventListener("resize",function(){a(o)})}function t(){var e,n;a(o),n=(e=o).getBoundingClientRect(),d.scaleX=e.offsetWidth?(n.right-n.left)/e.offsetWidth:1,d.scaleY=e.offsetHeight?(n.bottom-n.top)/e.offsetHeight:1}function r(){for(var e=o;e;){if(e.className&&-1<e.className.indexOf("react-trello-board")){var n=e.className.match(".*uid_(.*)_uid.*");return n&&2==n.length?n[1]:""}e=e.parentElement}return""}function a(e){d.rect=N(e);var n=T(e,d.rect);Y(n)&&(d.lastVisibleRect=d.visibleRect),d.visibleRect=n}function l(e){if(e.tagName){var n=e.getBoundingClientRect();return"vertical"===s?n.bottom-n.top:n.right-n.left}return i.get(e,"size")*i.get(d,"scale")}function c(e){return i.get(e,"dragPosition")}return setTimeout(function(){t()},10),{getSize:l,getContainerRectangles:function(){return{rect:d.rect,visibleRect:d.visibleRect,lastVisibleRect:d.lastVisibleRect}},getBeginEndOfDOMRect:function(e){return{begin:i.get(e,"begin"),end:i.get(e,"end")}},getBeginEndOfContainer:function(){return{begin:i.get(d.rect,"begin")+d.translation,end:i.get(d.rect,"end")+d.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:i.get(d.visibleRect,"begin")+d.translation,end:i.get(d.visibleRect,"end")+d.translation}},getBeginEnd:function(e){var n,t=(n=e,(i.get(n,"distanceToParent")+(n[p]||0))*i.get(d,"scale")+(i.get(d.rect,"begin")+d.translation)-i.get(o,"scrollValue"));return{begin:t,end:t+l(e)*i.get(d,"scale")}},getAxisValue:c,setTranslation:function(e,n){n?i.set(e.style,"translate",n):e.style.removeProperty("transform"),e[p]=n},getTranslation:function(e){return e[p]},setVisibility:function(e,n){void 0!==e[u]&&e[u]===n||(n?e.style.removeProperty("visibility"):e.style.visibility="hidden",e[u]=n)},isVisible:function(e){return void 0===e[u]||e[u]},isInVisibleRect:function(e,n){var t=d.visibleRect,o=t.left,i=t.top,r=t.right,a=t.bottom;a-i<2&&(a=i+30);var l=d.rect;return"vertical"===s?e>l.left&&e<l.right&&i<n&&n<a:o<e&&e<r&&n>l.top&&n<l.bottom},setSize:function(e,n){i.set(e,"setSize",n)},getTopLeftOfElementBegin:function(e){var n=0;return{top:"horizontal"===s?(n=e,d.rect.top):(n=d.rect.left,e),left:n}},getScrollSize:function(e){return i.get(e,"scrollSize")},getScrollValue:function(e){return i.get(e,"scrollValue")},setScrollValue:function(e,n){return i.set(e,"scrollValue",n)},invalidate:t,invalidateRects:function(){a(o)},getPosition:function(e){return c(e)},setBegin:function(e,n){i.set(e,"begin",n)}}}function Q(e,n,t){var o,i,r,a=t.left,l=t.right,s=t.top,d=t.bottom,c=e.x,u=e.y;if(c<a||l<c||u<s||d<u)return null;r="x"===n?(o=a,i=l,c):(o=s,i=d,u);var f=i-o,g=400<f?100:f/4;return i-r<g?{direction:"end",speedFactor:(g-(i-r))/g}:r-o<g?{direction:"begin",speedFactor:(g-(r-o))/g}:null}function Z(l,e){var s=1<arguments.length&&void 0!==e?e:"y",d=null,c=null,u=null,f=null;return{animate:function(e,n){u=e,f=n,function a(){null===d&&(d=requestAnimationFrame(function(e){null===c&&(c=e);var n=e-c;c=e;var t,o,i,r=n/1e3*f;o=s,i=r="begin"===u?0-r:r,(t=l)&&(t!==window?"x"===o?t.scrollLeft+=i:t.scrollTop+=i:"x"===o?t.scrollBy(i,0):t.scrollBy(0,i)),d=null,a()}))}()},stop:function(){null!==d&&(cancelAnimationFrame(d),d=null),c=null}}}function $(e){return function(){return T(e,e.getBoundingClientRect())}}function ee(r,a){if(window.sd){var e=function(){var e=function(){if(window.sd&&1==Object.keys(window.sd).length)return Object.keys(window.sd)[0];return""}(),n=window.document.elementFromPoint(a.x,a.y);if(r&&0<r.length)for(var t=r[0].scrollerElement;t;)if(t.className&&-1<t.className.indexOf("react-trello-board")){var o=t.className.match(".*uid_(.*)_uid.*");e=o&&2==o.length?o[1]:"",t=null}else t=t.parentElement;for(n=window.sd[e].doc.elementFromPoint(a.x,a.y);n;){var i=r.find(function(e){return e.scrollerElement===n});if(i)return{v:i};n=n.parentElement}return{v:null}}();if("object"===d(e))return e.v}else{var n=function(){for(var n=document.elementFromPoint(a.x,a.y);n;){var e=r.find(function(e){return e.scrollerElement===n});if(e)return{v:e};n=n.parentElement}return{v:null}}();if("object"===d(n))return n.v}}var ne,te,oe,ie=function(e){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,a=e.reduce(function(e,n){var t=function(e){for(var n=[],t=e.element;t;){var o=D(t);if(o&&!k(t,s)){var i={};switch(o){case l.xy:i.x={animator:Z(t,"x")},i.y={animator:Z(t,"y")};break;case l.x:i.x={animator:Z(t,"x")};break;case l.y:i.y={animator:Z(t,"y")}}n.push({axisAnimations:i,getRect:$(t),scrollerElement:t})}t=t.parentElement}return n}(n).filter(function(n){return!e.find(function(e){return e.scrollerElement===n.scrollerElement})});return[].concat(m(e),m(t))},[]);return function(e){var n,o,t=e.draggableInfo;if(e.reset)a.forEach(function(e){e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop()});else if(t){n=a,o=t.mousePosition,n.forEach(function(e){var n=e.axisAnimations,t=(0,e.getRect)();n.x&&(n.x.scrollParams=Q(o,"x",t),e.cachedRect=t),n.y&&(n.y.scrollParams=Q(o,"y",t),e.cachedRect=t)}),a.forEach(function(e){var n=e.axisAnimations,t=n.x,o=n.y;if(t)if(t.scrollParams){var i=t.scrollParams,r=i.direction,a=i.speedFactor;t.animator.animate(r,a*c)}else t.animator.stop();if(o)if(o.scrollParams){var l=o.scrollParams,s=l.direction,d=l.speedFactor;o.animator.animate(s,d*c)}else o.animator.stop()});var i=a.filter(function(e){return e.cachedRect});if(i.length&&1<i.length){var r=ee(i,t.mousePosition);r&&i.forEach(function(e){e!==r&&(e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop())})}}}};"undefined"!=typeof window&&((ne=Element)&&ne.prototype&&!ne.prototype.matches&&(ne.prototype.matches=ne.prototype.matchesSelector||ne.prototype.mozMatchesSelector||ne.prototype.msMatchesSelector||ne.prototype.oMatchesSelector||ne.prototype.webkitMatchesSelector||function(e){for(var n=(this.document||this.ownerDocument).querySelectorAll(e),t=n.length;0<=--t&&n.item(t)!==this;);return-1<t}),(te=Node||Element)&&te.prototype&&null==te.prototype.firstElementChild&&Object.defineProperty(te.prototype,"firstElementChild",{get:function(){for(var e,n=this.childNodes,t=0;e=n[t++];)if(1===e.nodeType)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var n=Object(this),t=n.length>>>0,o=2<=arguments.length?arguments[1]:void 0,i=0;i<t;i++)if(i in n&&e.call(o,n[i],i,n))return!0;return!1}));var re={overflow:"hidden",display:"block"},ae={height:"100%",display:"table-cell","vertical-align":"top"},le=(o(oe={},".".concat(b),{position:"relative","min-height":"30px","min-width":"30px"}),o(oe,".".concat(b,".horizontal"),{display:"table"}),o(oe,".".concat(b,".horizontal > .").concat(v),{display:"inline-block"}),o(oe,".".concat(b,".horizontal > .").concat(y),ae),o(oe,".".concat(b,".vertical > .").concat(y),re),o(oe,".".concat(y),{"box-sizing":"border-box"}),o(oe,".".concat(y,".horizontal"),ae),o(oe,".".concat(y,".vertical"),re),o(oe,".".concat(y,".animated"),{transition:"transform ease"}),o(oe,".".concat(C),{"box-sizing":"border-box"}),o(oe,".".concat(C,".animated"),{transition:"all ease-in-out"}),o(oe,".".concat(C," *"),{"pointer-events":"none"}),o(oe,".".concat(c," *"),{"touch-action":"none","-ms-touch-action":"none"}),o(oe,".".concat(g),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),o(oe,".".concat(E),{flex:"1"}),o(oe,".".concat(b,".horizontal > .").concat(x),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),o(oe,".".concat(b,".vertical > .").concat(x),{overflow:"hidden",display:"block",width:"100%"}),o(oe,".".concat(O),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),o(oe,".".concat(w),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),oe);function se(o){return Object.keys(o).reduce(function(e,n){var t=o[n];return"object"===d(t)?"".concat(e).concat(n,"{").concat(se(t),"}"):"".concat(e).concat(n,":").concat(t,";")},"")}function de(i){if("undefined"!=typeof window&&window.sd){if(0<Object.keys(window.sd).length){var r=null;return Object.keys(window.sd).map(function(e,n){var t=window.sd[e].doc.getElementById("head");r=window.sd[e].doc.ownerDocument.createElement("style");var o=se({"body *":{cursor:"".concat(i," !important")}});r.type="text/css",r.styleSheet?r.styleSheet.cssText=o:r.appendChild(window.sd[e].doc.ownerDocument.createTextNode(o)),t.appendChild(r)}),r}}else if(i&&"undefined"!=typeof window){var e=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),t=se({"body *":{cursor:"".concat(i," !important")}});return n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(window.document.createTextNode(t)),e.appendChild(n),n}return null}var ce,ue,fe=["mousedown","touchstart"],ge=["mousemove","touchmove"],me=["mouseup","touchend"],pe=null,ve=null,he=null,we=null,ye=[],be=!1,Ee=!1,xe=!1,Oe=!1,Ce=null,Se=null,De=null,Re=null,Ae=(ce=null,ue=!1,{start:function(){ue||(ue=!0,function e(){ce=requestAnimationFrame(function(){pe.forEach(function(e){return e.layout.invalidateRects()}),setTimeout(function(){null!==ce&&e()},50)})}())},stop:function(){null!==ce&&(cancelAnimationFrame(ce),ce=null),ue=!1}}),Ie="undefined"!=typeof window&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function Ne(){"undefined"!=typeof window&&fe.forEach(function(t){window.sd&&0<Object.keys(window.sd).length?Object.keys(window.sd).map(function(e,n){window.sd[e].listeners_added||(window.sd[e].doc.addEventListener(t,Ge,{passive:!1}),window.sd[e].listeners_added=!0)}):window.document.addEventListener(t,Ge,{passive:!1})})}function Be(){return we&&we.ghostParent?we.ghostParent:ve?ve.parentElement||window.document.body:window.sd&&0<Object.keys(window.sd).length?window.sd[0].doc.getElementById("head"):window.document.body}var Pe,Te,je,Le,ze,ke,_e,Me=(ze=1,ke=5,function(e,n,t){Pe=nn(e);var o=z(e.target)||"";_e=window.sd&&0<Object.keys(window.sd).length?window.sd[o].doc:window.document,je=t,(Te="number"==typeof n?n:Ie?200:0)&&(Le=setTimeout(Ye,Te)),ge.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?_e&&_e.addEventListener(e,Fe):window.document.addEventListener(e,Fe)},{passive:!1}),me.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?_e&&_e.addEventListener(e,Ve):window.document.addEventListener(e,Ve)},{passive:!1}),window.sd&&0<Object.keys(window.sd).length?_e&&_e.addEventListener("drag",Xe,{passive:!1}):window.document.addEventListener("drag",Xe,{passive:!1})});function Fe(e){var n=nn(e),t=n.clientX,o=n.clientY;if(Te)(Math.abs(Pe.clientX-t)>ke||Math.abs(Pe.clientY-o)>ke)&&He();else if(Math.abs(Pe.clientX-t)>ze||Math.abs(Pe.clientY-o)>ze)return Ye()}function Ve(){He()}function Xe(e){He()}function He(){clearTimeout(Le),ge.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?_e&&_e.removeEventListener(e,Fe):window.document.removeEventListener(e,Fe)},{passive:!1}),me.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?_e&&_e.removeEventListener(e,Ve):window.document.removeEventListener(e,Ve)},{passive:!1}),window.sd&&0<Object.keys(window.sd).length?_e&&_e.removeEventListener("drag",Xe,{passive:!1}):window.document.removeEventListener("drag",Xe,{passive:!1})}function Ye(){clearTimeout(Le),He(),je()}function Ge(e){var o=nn(e),n=z(e.target)||"",i=window.sd&&0<Object.keys(window.sd).length?window.sd[n].doc:window.document;if(!be&&(void 0===o.button||0===o.button)&&(ve=L(o.target,"."+y))){var t=L(ve,"."+b),r=ye.filter(function(e){return e.element===t})[0],a=r.getOptions().dragHandleSelector,l=r.getOptions().nonDragAreaSelector,s=!0;if(a&&!L(o.target,a)&&(s=!1),l&&L(o.target,l)&&(s=!1),s)if(r.layout.invalidate(),window.sd&&0<Object.keys(window.sd).length){var d=i.getElementById("head");_(d,c),_(d,g);i.addEventListener("mouseup",function e(){M(d,c),M(d,g),i.removeEventListener("mouseup",e)})}else{_(window.document.body,c),_(window.document.body,g);window.document.addEventListener("mouseup",function e(){M(window.document.body,c),M(window.document.body,g),window.document.removeEventListener("mouseup",e)})}s&&Me(o,r.getOptions().dragBeginDelay,function(){var n,t;X(i),ln(o,H(e.target)),n=i,ge.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?n.addEventListener(e,We,{passive:!1}):window.document.addEventListener(e,We,{passive:!1})}),t=i,me.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?t.addEventListener(e,$e,{passive:!1}):window.document.addEventListener(e,$e,{passive:!1})})})}}function We(e){e.preventDefault();var n=nn(e);z(e.target);if(we){var t=we.container.getOptions();"contain"===t.behaviour?function(e,n){var t,o,i,r,a=e.clientX,l=e.clientY,s=1<arguments.length&&void 0!==n?n:"vertical",d=we.container.layout.getBeginEndOfContainerVisibleRect();r="vertical"===s?(t=l,o="y",i="top",we.size.offsetHeight):(t=a,o="x",i="left",we.size.offsetWidth);var c=d.begin,u=d.end-r,f=Math.max(c,Math.min(u,t+he.positionDelta[i]));he.topLeft[o]=f,we.position[o]=Math.max(d.begin,Math.min(d.end,t+he.centerDelta[o])),we.mousePosition[o]=Math.max(d.begin,Math.min(d.end,t)),we.position[o]<d.begin+r/2&&(we.position[o]=d.begin+2),we.position[o]>d.end-r/2&&(we.position[o]=d.end-2)}(n,t.orientation):De?"y"===De?(he.topLeft.y=n.clientY+he.positionDelta.top,we.position.y=n.clientY+he.centerDelta.y,we.mousePosition.y=n.clientY):"x"===De&&(he.topLeft.x=n.clientX+he.positionDelta.left,we.position.x=n.clientX+he.centerDelta.x,we.mousePosition.x=n.clientX):(he.topLeft.x=n.clientX+he.positionDelta.left,he.topLeft.y=n.clientY+he.positionDelta.top,we.position.x=n.clientX+he.centerDelta.x,we.position.y=n.clientY+he.centerDelta.y,we.mousePosition.x=n.clientX,we.mousePosition.y=n.clientY),dn(),(Oe=!Ce(we))&&Qe()}else ln(n,H(e.target))}var qe,Ue,Je,Ke,Qe=(qe=Ze,Je=!(Ue=20),function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];Ke&&clearTimeout(Ke),Je&&!Ke?qe.call.apply(qe,[null].concat(n)):Ke=setTimeout(function(){Ke=null,qe.call.apply(qe,[null].concat(n))},Ue)});function Ze(){Oe&&(Oe=!1,tn(we,pe))}function $e(e){var n=z(e.target)||"";en(window.sd&&0<Object.keys(window.sd).length?window.sd[n].doc:window.document)}function en(e){var n,t;n=e,ge.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?n.removeEventListener(e,We,{passive:!1}):window.document.removeEventListener(e,We,{passive:!1})}),t=e,me.forEach(function(e){window.sd&&0<Object.keys(window.sd).length?t.removeEventListener(e,$e,{passive:!1}):window.document.removeEventListener(e,$e,{passive:!1})}),Se({reset:!0}),Re&&(function(e){if("undefined"!=typeof window&&window.sd){if(1==Object.keys(window.sd).length){var n=Object.keys(window.sd)[0];window.sd[n].doc.getElementById("head").removeChild(e)}}else if(e&&"undefined"!=typeof window){(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e)}}(Re),Re=null),we&&(Ae.stop(),Ze(),xe=!0,function(e){function r(){M(he.ghost,"animated"),he.ghost.style.transitionDuration=null,Be().removeChild(he.ghost),e()}function n(e,n,t){var o=e.top,i=e.left;_(he.ghost,"animated"),t&&_(he.ghost.firstElementChild,t),he.topLeft.x=i,he.topLeft.y=o,dn(n),setTimeout(function(){r()},n+20)}function t(e,n){_(he.ghost,"animated"),dn(e,.9,!0),setTimeout(function(){n()},e+20)}if(we.targetElement){var o=ye.filter(function(e){return e.element===we.targetElement})[0];if(!(p=o.getOptions()).shouldAnimateDrop||p.shouldAnimateDrop(we.container.getOptions(),we.payload))n(o.getDragResult().shadowBeginEnd.rect,Math.max(150,o.getOptions().animationDuration/2),o.getOptions().dropClass);else r()}else{var i=ye.filter(function(e){return e===we.container})[0];if(i){var a=i.getOptions(),l=a.behaviour,s=a.removeOnDropOut;if("move"!==l&&"contain"!==l||!Ee&&s||!i.getDragResult())t(i.getOptions().animationDuration,r);else{var d=i.layout.getContainerRectangles();if(!Y(d.visibleRect)&&Y(d.lastVisibleRect))n({top:d.lastVisibleRect.top,left:d.lastVisibleRect.left},i.getOptions().animationDuration,i.getOptions().dropClass);else{var c=i.getDragResult(),u=c.removedIndex,f=c.elementSize,g=i.layout;i.getTranslateCalculator({dragResult:{removedIndex:u,addedIndex:u,elementSize:f,pos:void 0,shadowBeginEnd:void 0}});var m=0<u?g.getBeginEnd(i.draggables[u-1]).end:g.getBeginEndOfContainer().begin;n(g.getTopLeftOfElementBegin(m),i.getOptions().animationDuration,i.getOptions().dropClass)}}}else t(S.animationDuration,r)}var p}(function(){an(be=!1);for(var e=pe||[],n=e.shift();void 0!==n;)n.handleDrop(we),n=e.shift();Ce=De=we=he=ve=pe=null,xe=!1}))}function nn(e){return e.touches?e.touches[0]:e}function tn(t,e){var o=!1;e.forEach(function(e){var n=e.handleDrag(t);o=!!n.containerBoxChanged||!1,n.containerBoxChanged=!1}),o&&(o=!1,requestAnimationFrame(function(){ye.forEach(function(e){e.layout.invalidateRects(),e.onTranslated()})}))}function on(e){var n=e,t=null;return function(e){return!(null!==t||!be||xe)&&(t=requestAnimationFrame(function(){be&&!xe&&(tn(e,n),Se({draggableInfo:e})),t=null}),!0)}}function rn(e,n){return e.getOptions().autoScrollEnabled?ie(n,e.getScrollMaxSpeed()):function(e){return null}}function an(o){ye.forEach(function(e){var n=o?e.getOptions().onDragStart:e.getOptions().onDragEnd;if(n){var t={isSource:e===we.container,payload:we.payload};e.isDragRelevant(we.container,we.payload)?t.willAcceptDrop=!0:t.willAcceptDrop=!1,n(t)}})}function ln(e,n){if(null!==ve){be=!0;var t=ye.filter(function(e){return ve.parentElement===e.element})[0];t.setDraggables(),De=t.getOptions().lockAxis?t.getOptions().lockAxis.toLowerCase():null,y=z(w=ve)||"",window.sd&&0<Object.keys(window.sd).length?window.sd[y].doc:window.document,b=ye.filter(function(e){return w.parentElement===e.element})[0],E=b.draggables.indexOf(w),x=b.getOptions().getGhostParent,O=w.getBoundingClientRect(),we={container:b,element:w,size:{offsetHeight:O.bottom-O.top,offsetWidth:O.right-O.left},elementIndex:E,payload:b.getOptions().getChildPayload?b.getOptions().getChildPayload(E):void 0,targetElement:null,position:{x:0,y:0},groupName:b.getOptions().groupName,ghostParent:x?x():null,invalidateShadow:null,mousePosition:null,relevantContainers:null},o=ve,i={x:e.clientX,y:e.clientY},r=we.container,a=n,l=i.x,s=i.y,d=o.getBoundingClientRect(),c=d.left,u=d.top,f=d.right,g=d.bottom,m=I(r.layout.getContainerRectangles().visibleRect,d),p=m.left+(m.right-m.left)/2,v=m.top+(m.bottom-m.top)/2,(h=o.cloneNode(!0)).style.zIndex="1000",h.style.boxSizing="border-box",h.style.position="fixed",h.style.top="0px",h.style.left="0px",h.style.transform=null,h.style.removeProperty("transform"),r.shouldUseTransformForGhost()?h.style.transform="translate3d(".concat(c,"px, ").concat(u,"px, 0)"):(h.style.top="".concat(u,"px"),h.style.left="".concat(c,"px")),h.style.width=f-c+"px",h.style.height=g-u+"px",h.style.overflow="visible",h.style.transition=null,h.style.removeProperty("transition"),h.style.pointerEvents="none",h.style.userSelect="none",r.getOptions().dragClass?setTimeout(function(){_(h.firstElementChild,r.getOptions().dragClass);var e=window.getComputedStyle(h.firstElementChild).cursor;Re=de(e)}):Re=de(a),_(h,r.getOptions().orientation||"vertical"),_(h,C),he={ghost:h,centerDelta:{x:p-l,y:v-s},positionDelta:{left:c-l,top:u-s},topLeft:{x:c,y:u}},we.position={x:e.clientX+he.centerDelta.x,y:e.clientY+he.centerDelta.y},we.mousePosition={x:e.clientX,y:e.clientY},pe=ye.filter(function(e){return e.isDragRelevant(t,we.payload)}),we.relevantContainers=pe,Ce=on(pe),Se&&Se({reset:!0,draggableInfo:void 0}),Se=rn(t,pe),pe.forEach(function(e){return e.prepareDrag(e,pe)}),an(!0),Ce(we),Be().appendChild(he.ghost),Ae.start()}var o,i,r,a,l,s,d,c,u,f,g,m,p,v,h,w,y,b,E,x,O}var sn=Ke=_e=Le=null;function dn(e,n,t){var o=0<arguments.length&&void 0!==e?e:0,i=1<arguments.length&&void 0!==n?n:1,r=2<arguments.length&&void 0!==t&&t,a=he.ghost,l=he.topLeft,s=l.x,d=l.y,c=!we.container||we.container.shouldUseTransformForGhost(),u=c?"translate3d(".concat(s,"px,").concat(d,"px, 0)"):null;if(1!==i&&(u=u?"".concat(u," scale(").concat(i,")"):"scale(".concat(i,")")),0<o)return he.ghost.style.transitionDuration=o+"ms",void requestAnimationFrame(function(){u&&(a.style.transform=u),c||(a.style.left=s+"px",a.style.top=d+"px"),sn=null,r&&(a.style.opacity="0")});null===sn&&(sn=requestAnimationFrame(function(){u&&(a.style.transform=u),c||(a.style.left=s+"px",a.style.top=d+"px"),sn=null,r&&(a.style.opacity="0")}))}function cn(){if(be&&!Ee&&!xe){Oe=!(Ee=!0);var n=Object.assign({},we,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});pe.forEach(function(e){e.handleDrag(n)}),we.targetElement=null,we.cancelDrop=!0,e=z(ve)||"",en(window.sd&&0<Object.keys(window.sd).length?window.sd[e].doc:window.document),Ee=!1}var e}function un(){return Ne(),{register:function(e){var n;n=e,ye.push(n),be&&we&&n.isDragRelevant(we.container,we.payload)&&(pe.push(n),n.prepareDrag(n,pe),Se&&Se({reset:!0,draggableInfo:void 0}),Se=rn(n,pe),Ce=on(pe),n.handleDrag(we))},unregister:function(e){!function(e){if(ye.splice(ye.indexOf(e),1),be&&we){we.container===e&&e.fireRemoveElement(),we.targetElement===e.element&&(we.targetElement=null);var n=pe.indexOf(e);-1<n&&(pe.splice(n,1),Se&&Se({reset:!0,draggableInfo:void 0}),Se=rn(e,pe),Ce=on(pe))}}(e)},isDragging:function(){return be},cancelDrag:cn}}"undefined"!=typeof window&&function(){if("undefined"!=typeof window&&window.sd)0<Object.keys(window.sd).length&&Object.keys(window.sd).map(function(e,n){var t=window.sd[e].doc.getElementById("head"),o=window.sd[e].doc.ownerDocument.createElement("style");o.id="smooth-dnd-style-definitions";var i=se(le);o.type="text/css",o.ref="styles",o.styleSheet?o.styleSheet.cssText=i:o.appendChild(window.sd[e].doc.ownerDocument.createTextNode(i)),t.appendChild(o)});else if("undefined"!=typeof window){var e=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style");n.id="smooth-dnd-style-definitions";var t=se(le);n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(window.document.createTextNode(t)),e.appendChild(n)}}();var fn=un();function gn(e,n,t){var o=2<arguments.length&&void 0!==t?t:S.animationDuration;n?(_(e,r),e.style.transitionDuration=o+"ms"):(M(e,r),e.style.removeProperty("transition-duration"))}function mn(o){var i=[];return Array.prototype.forEach.call(o.children,function(e){if(e.nodeType===Node.ELEMENT_NODE){var n=e;k(e,y)||(t=e,kn.wrapChild&&(t.className=t.className+" ".concat(y)),n=t),n[p]=0,i.push(n)}else o.removeChild(e);var t}),i}function pn(e){var m=e.layout;return function(e,n){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function e(n,t,o,i,r){var a=4<arguments.length&&void 0!==r&&r;if(i<o)return o;if(o===i){var l=m.getBeginEnd(n[o]),s=l.begin,d=l.end;return!a||t<(d+s)/2?o:o+1}var c=Math.floor((i+o)/2),u=m.getBeginEnd(n[c]),f=u.begin,g=u.end;return t<f?e(n,t,o,c-1,a):g<t?e(n,t,c+1,i,a):!a||t<(g+f)/2?c:c+1}(e,n,0,e.length-1,t)}}function vn(e){var n,t,o,i,r=e.element,a=e.draggables,l=e.layout,s=e.getOptions,d=(t=(n={element:r,draggables:a,layout:l,getOptions:s}).element,o=n.draggables,i=n.layout,function(){o.forEach(function(e){gn(e,!1),i.setTranslation(e,0),i.setVisibility(e,!0)}),t[h]&&(t[h].parentNode.removeChild(t[h]),t[h]=null)}),c=(kn.dropHandler||G)({element:r,draggables:a,layout:l,getOptions:s});return function(e,n){var t=n.addedIndex,o=n.removedIndex,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(d(),!e.cancelDrop&&(e.targetElement||s().removeOnDropOut||i)){var r={removedIndex:o,addedIndex:null!==t?null!==o&&o<t?t-1:t:null,payload:e.payload};c(r,s().onDrop)}}}function hn(e){var o=e.element,i=e.getOptions,r=null;return function(e){var n=e.draggableInfo,t=r;return null==r&&n.container.element===o&&"copy"!==i().behaviour&&(t=r=n.elementIndex),{removedIndex:t}}}function wn(e){var t=e.draggables,o=e.layout;return function(e){var n=e.dragResult;null!==n.removedIndex&&o.setVisibility(t[n.removedIndex],!1)}}function yn(e){var l=e.element,s=e.layout;return function(e){var n=e.draggableInfo;if(window.sd){var t=function(e){var n=e;for(;n;){if(n.className&&-1<n.className.indexOf("react-trello-board")){var t=n.className.match(".*uid_(.*)_uid.*");return t&&2==t.length?t[1]:""}n=n.parentElement}return""}(l),o=window.sd[t].doc.elementFromPoint(n.position.x,n.position.y);if(o){var i=j(o,n.relevantContainers);if(i&&i.element===l)return{pos:s.getPosition(n.position)}}return{pos:null}}var r=document.elementFromPoint(n.position.x,n.position.y);if(r){var a=j(r,n.relevantContainers);if(a&&a.element===l)return{pos:s.getPosition(n.position)}}return{pos:null}}}function bn(e){var t=e.layout,o=null;return function(e){var n=e.draggableInfo;return null===e.dragResult.pos?o=null:{elementSize:o=o||t.getSize(n.size)}}}function En(e){var o=e.element;return function(e){var n=e.draggableInfo,t=e.dragResult;!function(e,n,t){n&&(!(2<arguments.length&&void 0!==t)||t)?e.targetElement=n:e.targetElement===n&&(e.targetElement=null)}(n,o,!!t.pos)}}function xn(){return function(e){return null!==e.dragResult.pos?{addedIndex:0}:{addedIndex:null}}}function On(e){var i=e.layout,r=null;return function(e){var n=e.dragResult.addedIndex;if(n===r)return null;r=n;var t=i.getBeginEndOfContainer(),o=t.begin;t.end;return{shadowBeginEnd:{rect:i.getTopLeftOfElementBegin(o)}}}}function Cn(e){var g=e.layout,m=e.element,p=e.getOptions,v=null;return function(e){var n=e.dragResult,t=n.elementSize,o=n.shadowBeginEnd,i=n.addedIndex,r=n.dropPlaceholderContainer,a=p();if(a.dropPlaceholder){var l="boolean"==typeof a.dropPlaceholder?{}:a.dropPlaceholder,s=l.animationDuration,d=l.className,c=l.showOnTop;if(null===i)return r&&null!==v&&m.removeChild(r),v=null,{dropPlaceholderContainer:void 0};if(!r){var u=document.createElement("div"),f=document.createElement("div");f.className=O,u.className="".concat(E," ").concat(d||w),(r=document.createElement("div")).className="".concat(x),r.style.position="absolute",void 0!==s&&(r.style.transition="all ".concat(s,"ms ease")),r.appendChild(f),f.appendChild(u),g.setSize(r.style,t+"px"),r.style.pointerEvents="none",c?m.appendChild(r):m.insertBefore(r,m.firstElementChild)}return v!==i&&o.dropArea&&g.setBegin(r.style,o.dropArea.begin-g.getBeginEndOfContainer().begin+"px"),v=i,{dropPlaceholderContainer:r}}return null}}function Sn(e){var o=Nn(e);return function(e){var n=e.draggableInfo,t=e.dragResult;return n.invalidateShadow?o({draggableInfo:n,dragResult:t}):null}}function Dn(e){var n,r,a,o=(r=(n=e).draggables,a=pn({layout:n.layout}),function(e){var n=e.dragResult,t=n.shadowBeginEnd,o=n.pos;if(t)return t.begin+t.beginAdjustment<=o&&t.end>=o?null:o<t.begin+t.beginAdjustment?a(r,o):o>t.end?a(r,o)+1:r.length;var i=a(r,o,!0);return null!==i?i:r.length});return function(e){var n=e.dragResult,t=null;return null!==n.pos&&null===(t=o({dragResult:n}))&&(t=n.addedIndex),{addedIndex:t}}}function Rn(){var i=null;return function(e){var n=e.dragResult,t=n.addedIndex,o=n.shadowBeginEnd;t!==i&&null!==i&&o&&(o.beginAdjustment=0),i=t}}function An(e){var c=e.element,u=e.draggables,f=e.layout,g=e.getOptions,m=null;return function(e){var n=e.dragResult,t=n.addedIndex,o=n.removedIndex,i=n.elementSize;if(null===o)if(null!==t){if(!m){var r=f.getBeginEndOfContainer();r.end=r.begin+f.getSize(c);var a=f.getScrollSize(c)>f.getSize(c)?r.begin+f.getScrollSize(c)-f.getScrollValue(c):r.end,l=0<u.length?f.getBeginEnd(u[u.length-1]).end-u[u.length-1][p]:r.begin;if(a<l+i){(m=window.document.createElement("div")).className=v+" "+g().orientation;var s=0<u.length?i+l-a:i;return f.setSize(m.style,"".concat(s,"px")),c.appendChild(m),c[h]=m,{containerBoxChanged:!0}}}}else if(m){f.setTranslation(m,0);var d=m;return m=null,c.removeChild(d),{containerBoxChanged:!(c[h]=null)}}}}function In(e){var s=e.draggables,d=e.layout,c=null,u=null;return function(e){var n=e.dragResult,t=n.addedIndex,o=n.removedIndex,i=n.elementSize;if(t!==c||o!==u){for(var r=0;r<s.length;r++)if(r!==o){var a=s[r],l=0;null!==o&&o<r&&(l-=i),null!==t&&t<=r&&(l+=i),d.setTranslation(a,l)}return{addedIndex:c=t,removedIndex:u=o}}}}function Nn(e){var E=e.draggables,x=e.layout,O=null;return function(e){var n=e.draggableInfo,t=e.dragResult,o=t.addedIndex,i=t.removedIndex,r=t.elementSize,a=t.pos,l=t.shadowBeginEnd;if(null===a)return{shadowBeginEnd:O=null};if(null===o||!n.invalidateShadow&&o===O)return null;var s=o-1,d=Number.MIN_SAFE_INTEGER,c=0,u=0,f=null,g=null;if(s===i&&s--,-1<s){var m=x.getSize(E[s]);if(g=x.getBeginEnd(E[s]),r<m){var p=(m-r)/2;d=g.end-p}else d=g.end;c=g.end}else g={end:x.getBeginEndOfContainer().begin},c=x.getBeginEndOfContainer().begin;var v=Number.MAX_SAFE_INTEGER,h=o;if(h===i&&h++,h<E.length){var w=x.getSize(E[h]);if(f=x.getBeginEnd(E[h]),r<w){var y=(w-r)/2;v=f.begin+y}else v=f.begin;u=f.begin}else f={begin:x.getContainerRectangles().rect.end},u=x.getContainerRectangles().rect.end-x.getContainerRectangles().rect.begin;var b=g&&f?x.getTopLeftOfElementBegin(g.end):null;return O=o,{shadowBeginEnd:{dropArea:{begin:c,end:u},begin:d,end:v,rect:b,beginAdjustment:l?l.beginAdjustment:0}}}}function Bn(){var a=null;return function(e){var n=e.dragResult,t=n.pos,o=n.addedIndex,i=n.shadowBeginEnd;if(null!==t){if(null!=o&&null===a){if(t<i.begin){var r=t-i.begin-5;i.beginAdjustment=r}a=o}}else a=null}}function Pn(e){var n=e.getOptions,t=!1,o=n();return function(e){var n=!!e.dragResult.pos;n!==t&&((t=n)?o.onDragEnter&&o.onDragEnter():o.onDragLeave&&o.onDragLeave())}}function Tn(e){var n=e.getOptions,s=null,d=n();return function(e){var n=e.dragResult,t=n.addedIndex,o=n.removedIndex,i=e.draggableInfo,r=i.payload,a=i.element;if(d.onDropReady&&null!==t&&s!==t){var l=s=t;null!==o&&o<t&&l--,d.onDropReady({addedIndex:l,removedIndex:o,payload:r,element:a?a.firstElementChild:void 0})}}}function jn(e){return"drop-zone"===e.getOptions().behaviour?Ln(e)(hn,wn,yn,bn,En,xn,On,Pn,Tn):Ln(e)(hn,wn,yn,bn,En,Sn,Dn,Rn,An,In,Nn,Cn,Bn,Pn,Tn)}function Ln(r){return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=n.map(function(e){return e(r)}),i=null;return function(t){return i=o.reduce(function(e,n){return Object.assign(e,n({draggableInfo:t,dragResult:e}))},i||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function zn(w){return function(e){var n,t,o,i,r,a,l,s=Object.assign({},S,e),d=null,c=null,u=(t=h,o=mn(n=w),i=t(),_(n,"".concat(b," ").concat(i.orientation)),{element:n,draggables:o,getOptions:t,layout:K(n,i.orientation,i.animationDuration)}),f=jn(u),g=vn(u),m=A(w,function(){u.layout.invalidateRects(),p()});function p(){null!==c&&(c.invalidateShadow=!0,d=f(c),c.invalidateShadow=!1)}function v(e,n){for(var t=mn(n),o=0;o<t.length;o++)e[o]=t[o];for(var i=0;i<e.length-t.length;i++)e.pop()}function h(){return s}return{element:w,draggables:u.draggables,isDragRelevant:(a=(r=u).element,l=r.getOptions,function(e,n){var t=l();if(t.shouldAcceptDrop)return t.shouldAcceptDrop(e.getOptions(),n);var o=e.getOptions();return"copy"!==t.behaviour&&L(a,"."+y)!==e.element&&(e.element===a||!(!o.groupName||o.groupName!==t.groupName))}),layout:u.layout,dispose:function(e){var n;m.dispose(),n=e.element,kn.wrapChild&&Array.prototype.forEach.call(n.children,function(e){e.nodeType===Node.ELEMENT_NODE&&k(e,y)&&(n.insertBefore(e.firstElementChild,e),n.removeChild(e))})},prepareDrag:function(e,n){var t=e.element,o=u.draggables;v(o,t),e.layout.invalidateRects(),o.forEach(function(e){return gn(e,!0,h().animationDuration)}),m.start()},handleDrag:function(e){return d=f(c=e)},handleDrop:function(e){m.stop(),d&&d.dropPlaceholderContainer&&w.removeChild(d.dropPlaceholderContainer),c=null,f=jn(u),g(e,d),d=null},fireRemoveElement:function(){g(c,Object.assign({},d,{addedIndex:null}),!0),d=null},getDragResult:function(){return d},getTranslateCalculator:function(e){return In(u)(e)},onTranslated:function(){p()},setDraggables:function(){v(u.draggables,w)},getScrollMaxSpeed:function(){return kn.maxScrollSpeed},shouldUseTransformForGhost:function(){return!0===kn.useTransformForGhost},getOptions:h,setOptions:function(e){s=!1===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])?Object.assign({},S,e):Object.assign({},S,s,e)}}}}var kn=function(e,n){var t=zn(e)(n);return fn=un(),e[i]=t,fn.register(t),{dispose:function(){fn&&fn.unregister(t),t.dispose(t)},setOptions:function(e,n){t.setOptions(e,n)}}};function _n(e,n,t){Object.defineProperty(e,t,{set:function(e){n[t]=e},get:function(){return n[t]}})}kn.wrapChild=!0,kn.cancelDrag=function(){fn.cancelDrag()},kn.isDragging=function(){return fn.isDragging()};function Mn(e,n){return console.warn('default export is deprecated. please use named export "smoothDnD"'),kn(e,n)}Mn.cancelDrag=function(){kn.cancelDrag()},Mn.isDragging=function(){return kn.isDragging()},_n(Mn,kn,"useTransformForGhost"),_n(Mn,kn,"maxScrollSpeed"),_n(Mn,kn,"wrapChild"),_n(Mn,kn,"dropHandler"),e.smoothDnD=kn,e.constants=t,e.dropHandlers=W,e.default=Mn,Object.defineProperty(e,"__esModule",{value:!0})});
